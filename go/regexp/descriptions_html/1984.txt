description<br />
&#39;<a href="http://localhost/keyword/Least%20Recently%20Used">Least Recently Used</a>&#39; (&#39;LRU&#39;) はキャッシュメモリや仮想メモリが扱うデータのリソースへの割り当てを決定するアルゴリズムである。対義語はMost Recently Used (MRU)。<br />
<br />
和訳すると「最近最も使われなかったもの」つまり「使われてから最も長い時間が経ったもの」「参照される頻度が最も低いもの」である。<br />
<br />
小容量で高速な記憶装置（例えば、キャッシュメモリ）がいっぱいになったとき、その中にあるデータのうち、未使用の時間が最も長いデータを大容量で低速な記憶装置（例えば、主記憶装置）に保存する、というのが基本のアルゴリズムである。<br />
<br />
なお、上の括弧内の例はキャッシュメモリの場合である。仮想メモリの場合は、小容量で高速な記憶装置を主記憶装置、大容量で低速な記憶装置を補助記憶装置に置き換えればよい。<br />
<br />
== 具体的なアルゴリズム ==<br />
<br />
それぞれのエントリごとに、「いつ使用したか」を示すデータを保存する。エントリを使用するごとにそのデータを更新していく。エントリが更新されるタイミングで、それらの時刻を全エントリに対して<a href="http://localhost/keyword/%E3%83%81%E3%82%A7%E3%83%83%E3%82%AF">チェック</a>すると、「最も使用されていないエントリ」が判明する。これが、理想的なLRUアルゴリズムである。しかし、この方法はとても処理に時間がかかる（O(n)）ため、ほとんど使用されない。<br />
<br />
多くの場合、処理を簡単化した擬似的なLRUが用いられる。たとえば、すべてのエントリに「最近使用したかどうか」を示すフラグ（dirty flag）を設ける。一度すべてをリセットし、エントリを使用するごとにそのフラグをセットする。一定のタイミング、またはエントリを更新する際にそれらのフラグを<a href="http://localhost/keyword/%E3%83%81%E3%82%A7%E3%83%83%E3%82%AF">チェック</a>すると、「最近使用されていないエントリ」が判明する。適当なタイミングで、またすべてのフラグをリセットする。<br />
これは、完全なLRUではないが、多くの場合非常に近い性能を発揮する。<br />
<br />
== その他 ==<br />
<br />
LRUは、コンピュータに限らず、いわゆる「整理法」にも使われている。たとえば、読み終わった本を本棚の一番右側に戻すようにしておくと、左側に読む頻度の少ない本が集まり、処分すべき本を簡単に決めることができると言われている。<br />
<br />
LRUは、特定のパターンの場合に極端に悪いパフォーマンスを示すことが知られている。たとえば、N個のエントリがある場合に、N+1個のエントリを順番に使用した場合、常にエントリの内容が変更されてしまう。<br />
<br />
== 関連項目 ==<br />
* キャッシュアルゴリズム<br />
<br />
LEAST<a href="http://localhost/keyword/REC">REC</a><a href="http://localhost/keyword/ENT">ENT</a>LYUSED<br />
<br />
en:Page replacement algorithm#Least recently used<br />
